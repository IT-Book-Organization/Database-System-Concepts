# 6.2 개체-관계 모델

<br/>

> `개체-관계(E-R) 데이터 모델(entity-relationship data model)`은  
> 데이터베이스의 전체 논리 구조를 나타내는 <b>조직의 스키마(enterprise schema)</b>를 명시함으로써 데이터베이스 설계를 쉽게 하도록 개발되었다.

- E-R 데이터 모델은 세 가지 기본 개념인 개체 집합, 관계 집합, 속성을 가지고 있다.
- E-R 모델은 `E-R 다이어그램(diagram)`이라는 연관된 다이어그램 형태의 표현을 지닌다.

<br/>
<br/>

## 6.2.1 개체 집합

> `개체(entity)`는 실세계에서 다른 모든 객체와 구별되는 유무형의 사물이다.

- 개체는 구체적인 것(사람이나 책)일 수도 있고, 추상적인 것(과목, 분반, 예약)일 수도 있다.


- **개체는 속성의 집합을 가지며, 속성 중 일부 집합은 개체를 고유하게 구별하기도 한다.**
    - `속성(attribute)` : 개체 집합의 구성원들이 소유하는 설명 특성
    - e.g., 과목(course) 개체 집합의 가능한 속성 : course_id(과목 번호), title(제목), dept_name(학과명), credits(학점)
    - 어떤 개체 집합에 대해서 속성을 부여한다 = 데이터베이스가 개체 집합 내의 각 개체와 관련해 비슷한 정보를 저장한다.


- 각 개체는 속성 각각에 대해 `값(value)`을 가진다.

<br/>

> `개체 집합(entity set)`은 같은 속성을 공유하는 **같은 유형의 개체의 집합**이다.

- 개체 집합은 서로 중첩될 수도 있다.
    - e.g., 어떤 대학교의 모든 사람의 개체 집합 person에서,  
      어떤 person 개체는 instructor 개체이거나 student 개체이거나, 양쪽 모두이거나, 양쪽 어디에도 속하지 않을 수 있다.


- E-R 다이어그램에서 **사각형**으로 표현하며 두 부분을 가진다.
    1. 개체 집합의 이름을 포함한다.
    2. 개체 집합의 모든 속성 이름을 포함한다.
        - 주 키를 구성하는 속성은 밑줄이 그어져 있다.

<p align="center"><img width="310" alt="개체 집합" src="https://user-images.githubusercontent.com/86337233/224695758-a10b12c3-ddbf-4a3b-9a30-0920f979a3d3.png">

<br/>
<br/>

역사적으로 많은 조직은 개인을 고유하게 식별하는 속성으로 정부에서 발급한 식별 번호를 편리하게 사용했다.

그러나 이는 보안 및 사생활 보호 측면에서 나쁜 관행이다.

**→ 일반적으로 각 개체를 유일하게 구별하는 식별자를 생성하고 할당한다.**

<br/>

데이터베이스는 개체 집합의 모임을 포함하는데, 그 각각은 같은 유형의 개체를 임의의 수만큼 포함한다.

<br/>
<br/>

## 6.2.2 관계 집합

> `관계(relationship)`는 여러 개체들 사이의 연관성이다.

> `관계 집합(relationship set)`은 같은 유형의 관계들의 집합이다.

<br/>

e.g., instructor와 student

학생과 지도교수 역할을 하는 교수 사이의 연관성을 표현하기 위해 관계 집합 advisor를 정의할 수 있다.

<p align="center"><img width="480" alt="관계 집합" src="https://user-images.githubusercontent.com/86337233/224695751-8fe5444e-28a4-4c16-bba4-8727046931bf.png">

<br/>
<br/>

> E-R 스키마에서 `관계 인스턴스(relationship instance)`는 모델링하는 실세계 조직 내의 명명된 개체들 사이에 존재하는 연관성을 나타낸다.

e.g., instructor 개체 Katz(instructor ID = 45565)와 학생 개체 Shankar(학생 ID = 12345)는 advisor 관계 인스턴스에 참여한다.

이 관계 인스턴스는 대학교에서 교수 Katz가 학생 Shankar를 지도하고 있음을 나타낸다.

<br/>

관계 집합은 E-R 다이어그램에서 **다이아몬드**로 표시하며, 여러 다른 개체 집합(사각형)을 **선**으로 연결한다.

<p align="center"><img width="520" alt="관계 집합 다이어그램" src="https://user-images.githubusercontent.com/86337233/224695761-780f2291-981f-4d38-8095-993251b1d9e1.png">

<br/>
<br/>
<br/>

형식적으로 `관계 집합`은 n ≥ 2개의 개체 집합(중복 허용) 사이의 수학적 릴레이션이다.

만약 E1, E2, …. , En이 **개체 집합**일 때 **관계 집합 R**은

<p align="center"><img width="500" alt="관계 집합 R" src="https://user-images.githubusercontent.com/86337233/224695765-6237024e-fa41-46ef-b803-ad6745e4593b.png">

의 부분집합이다. 여기서 (e1, e2, … , en)은 **관계 인스턴스**다.

<br/>

**개체 집합 사이의 연관**을 `참여(participation)`라 한다.

즉, 개체 집합 E1, E2, … , En은 관계 집합 R에 `참여(participate)`한다.
