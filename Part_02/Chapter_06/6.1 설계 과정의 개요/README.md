# 6.1 설계 과정의 개요

<br/>

## 6.1.1 설계 단계

설계자는  
(1) 응용 프로그램의 사용자와 상호작용하여 요구 조건을 이해하고,  
(2) 사용자가 이해할 수 있도록 상위 모델로 나타내야 하며,  
(3) 요구 조건을 설계의 하위 단계에 알맞게 변형해야 한다.

<br/>

1. 장래의 데이터베이스 사용자가 필요로 하는 데이터를 충분히 규정해야 한다.

- 이 단계의 결과물은 `사용자 요구 사항 명세서(specification of user requirement)`이다.

<br/>

2. **개념적 설계(conceptual design) 단계**

- 설계자는 데이터 모델을 선택하고, 선택한 데이터 모델의 개념을 적용함으로써 이러한 요구 사항을 데이터베이스의 개념 스키마로 변환한다.
- 일반적으로 이 단계에서 `개체-관계 다이어그램(E-R diagram, ERD`)을 생성한다.
- `개체-관계(E-R) 모델`은 일반적으로 개념적 설계를 표현한다.
- `개념 스키마`는 데이터베이스의 모든 개체 집합, 개체의 속성, 개체들 간의 관계, 개체와 관계에 대한 제약 조건을 명시한다.
- 완전히 개발된 개념 스키마는 조직의 기능적인 요구 사항을 보여준다.
    - `기능적 요구 사항 명세서(specification of functional requirement)`는 사용자가 데이터에 적용할 연산(혹은 트랜잭션)의 종류를 기술한다.  
      e.g., 데이터 수정 도는 갱신, 특정 데이터 검색 및 추출(retrieve), 데이터 삭제 등
    - 설계자는 개념적 설계 단계에서 스키마를 재검토하여 기능적인 요구 사항을 만족하는지 확인한다.

<br/>

추상 데이터 모델(abstract data model)로부터 데이터베이스 구현으로 이동하는 과정은 마지막 두 가지 설계 단계로 구성된다.

<br/>

3. **논리적 설계 단계(logical-design phase)**

- 설계자는 상위의 개념 스키마를 사용할 데이터베이스의 구현 데이터 모델에 대응시킨다.
- 구현 데이터 모델은 일반적으로 관계형 데이터 모델이며, 이 단계는 개체-관계 모델로 정의한 개념적 스키마를 관계형 스키마로 대응시키는 작업으로 구성된다.

<br/>

4. **물리적 설계 단계(physical-design phase)**

- 시스템 특유의 데이터베이스 스키마를 이용하여 데이터베이스의 물리적 특성을 구체화한다.
- 이러한 물리적 특성은 파일 구성(file organization)의 형식과 인덱스 구조에 대한 선택을 포함한다. *(13, 14장에서 다룸)*

<br/>

---

<br/>

- 데이터베이스의 물리적 스키마는 응용 프로그램이 완성된 후 상대적으로 쉽게 바꿀 수 있다.
- 논리적 스키마를 바꾸는 것은 응용 프로그램 코드에 흩어져 있는 많은 질의와 갱신 작업에 영향을 미칠 수 있으므로 실행하기 어렵다.

따라서 데이터베이스 응용 프로그램의 나머지 부분을 완성하기 전에 데이터베이스 설계 단계를 주의해서 수행하는 것이 중요하다.

<br/>
<br/>

## 6.1.2 설계 대안

> `개체(entity)` : 식별할 수 있는 항목을 지칭하는 데 사용한다.

다양한 개체는 여러 가지 방법으로 다른 개체와 관계를 맺는데, 이런 관계도 데이터베이스 설계 시 포착해야 한다.

<br/>

데이터베이스 스키마를 설계할 때 다음 두 가지 중요한 **위험성**을 피할 수 있도록 확인해야 한다.

### 1️⃣ 중복성(Redundancy)

> 좋지 않은 설계는 정보를 여러 번 반복한다.

정보의 중복적인 표현이 지니는 가장 큰 문제는  
중복되어 저장한 모든 복사본을 수정할 수있는 예방책을 세우지 않음으로 인해 **어떤 일부 복사본이 일관되지 않은 저보를 지닐 수도 있다는 것이다.**

이상적으로, 정보는 정확히 한 장소에만 위치해야 한다.

<br/>

### 2️⃣ 불완전성(Incompleteness)

> 좋지 않은 설계는 조직의 특성을 모델링하기 어렵거나 불가능하게 한다.

e.g.,

- 분반(section, 각 과목의 개설 방식)에 해당하는 개체만 있고 과목에 해당하는 개체는 없다고 가정해보자.
- 과목이 제공하는 각각의 분반에 대해서 한 번씩 모든 과목 정보를 중복 저장하는 단일 릴레이션이 있다고 가정해보자.

이런 상황에서 어떤 새로운 과목에 대해 기술하고자 할 때, 그 과목이 개설되지 않으면 그 과목에 대한 정보를 저장하는 것은 불가능하다.

분반 정보에 대해 널 값을 저장하는 (문제 있는) 설계는 그다지 좋은 방법이 아닐 뿐만 아니라, 주 키 제약 조건에 의해 금지되어 있다.
